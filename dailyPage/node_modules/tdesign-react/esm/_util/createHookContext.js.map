{"version":3,"file":"createHookContext.js","sources":["../../src/_util/createHookContext.tsx"],"sourcesContent":["import React, { createContext, PropsWithChildren, useContext } from 'react';\n\n/**\n * 基于 Hook 创建一个 Context\n * @param hook\n * @returns\n */\nexport function createHookContext<T, P>(hook: (value: P) => T) {\n  const Context = createContext<T>(null);\n\n  function Provider(\n    props: PropsWithChildren<{\n      value: P;\n    }>,\n  ) {\n    return <Context.Provider value={hook(props.value)}>{props.children}</Context.Provider>;\n  }\n\n  function use() {\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    return useContext(Context);\n  }\n\n  return {\n    Provider,\n    use,\n  };\n}\n"],"names":["createHookContext","hook","Context","createContext","Provider","props","React","createElement","value","children","use","useContext"],"mappings":";;;;;;;;AAOO,SAASA,iBAAT,CAAiCC,IAAjC,EAAwD;AACvD,EAAA,IAAAC,OAAA,gBAAUC,cAAiB,KAA3B,CAAA;;EAEN,SAASC,QAAT,CACEC,KADF,EAIE;IACO,sBAAAC,KAAA,CAAAC,aAAA,CAACL,QAAQE,QAAT,EAAC;AAAiBI,MAAAA,KAAA,EAAOP,IAAK,CAAAI,KAAA,CAAMG,KAAN,CAAA;AAA7B,KAAD,EAA6CH,MAAMI,QAAnD,CAAA,CAAA;AACT,GAAA;;AAEA,EAAA,SAASC,GAAT,GAAe;IAEb,OAAOC,WAAWT,QAAlB,CAAA;AACF,GAAA;;EAEO,OAAA;AACLE,IAAAA,QAAA,EAAAA,QADK;AAELM,IAAAA,GAAA,EAAAA,GAAAA;GAFK,CAAA;AAIT;;;;"}