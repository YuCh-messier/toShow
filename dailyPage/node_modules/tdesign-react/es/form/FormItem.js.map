{"version":3,"file":"FormItem.js","sources":["../../node_modules/lodash/assignInWith.js","../../node_modules/lodash/isError.js","../../node_modules/lodash/attempt.js","../../node_modules/lodash/_baseValues.js","../../node_modules/lodash/_customDefaultsAssignIn.js","../../node_modules/lodash/_escapeStringChar.js","../../node_modules/lodash/_reInterpolate.js","../../node_modules/lodash/_escapeHtmlChar.js","../../node_modules/lodash/escape.js","../../node_modules/lodash/_reEscape.js","../../node_modules/lodash/_reEvaluate.js","../../node_modules/lodash/templateSettings.js","../../node_modules/lodash/template.js","../../src/form/FormItem.tsx"],"sourcesContent":["var copyObject = require('./_copyObject'),\n    createAssigner = require('./_createAssigner'),\n    keysIn = require('./keysIn');\n\n/**\n * This method is like `_.assignIn` except that it accepts `customizer`\n * which is invoked to produce the assigned values. If `customizer` returns\n * `undefined`, assignment is handled by the method instead. The `customizer`\n * is invoked with five arguments: (objValue, srcValue, key, object, source).\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @alias extendWith\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} sources The source objects.\n * @param {Function} [customizer] The function to customize assigned values.\n * @returns {Object} Returns `object`.\n * @see _.assignWith\n * @example\n *\n * function customizer(objValue, srcValue) {\n *   return _.isUndefined(objValue) ? srcValue : objValue;\n * }\n *\n * var defaults = _.partialRight(_.assignInWith, customizer);\n *\n * defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n * // => { 'a': 1, 'b': 2 }\n */\nvar assignInWith = createAssigner(function(object, source, srcIndex, customizer) {\n  copyObject(source, keysIn(source), object, customizer);\n});\n\nmodule.exports = assignInWith;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike'),\n    isPlainObject = require('./isPlainObject');\n\n/** `Object#toString` result references. */\nvar domExcTag = '[object DOMException]',\n    errorTag = '[object Error]';\n\n/**\n * Checks if `value` is an `Error`, `EvalError`, `RangeError`, `ReferenceError`,\n * `SyntaxError`, `TypeError`, or `URIError` object.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an error object, else `false`.\n * @example\n *\n * _.isError(new Error);\n * // => true\n *\n * _.isError(Error);\n * // => false\n */\nfunction isError(value) {\n  if (!isObjectLike(value)) {\n    return false;\n  }\n  var tag = baseGetTag(value);\n  return tag == errorTag || tag == domExcTag ||\n    (typeof value.message == 'string' && typeof value.name == 'string' && !isPlainObject(value));\n}\n\nmodule.exports = isError;\n","var apply = require('./_apply'),\n    baseRest = require('./_baseRest'),\n    isError = require('./isError');\n\n/**\n * Attempts to invoke `func`, returning either the result or the caught error\n * object. Any additional arguments are provided to `func` when it's invoked.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Util\n * @param {Function} func The function to attempt.\n * @param {...*} [args] The arguments to invoke `func` with.\n * @returns {*} Returns the `func` result or error object.\n * @example\n *\n * // Avoid throwing errors for invalid selectors.\n * var elements = _.attempt(function(selector) {\n *   return document.querySelectorAll(selector);\n * }, '>_>');\n *\n * if (_.isError(elements)) {\n *   elements = [];\n * }\n */\nvar attempt = baseRest(function(func, args) {\n  try {\n    return apply(func, undefined, args);\n  } catch (e) {\n    return isError(e) ? e : new Error(e);\n  }\n});\n\nmodule.exports = attempt;\n","var arrayMap = require('./_arrayMap');\n\n/**\n * The base implementation of `_.values` and `_.valuesIn` which creates an\n * array of `object` property values corresponding to the property names\n * of `props`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array} props The property names to get values for.\n * @returns {Object} Returns the array of property values.\n */\nfunction baseValues(object, props) {\n  return arrayMap(props, function(key) {\n    return object[key];\n  });\n}\n\nmodule.exports = baseValues;\n","var eq = require('./eq');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used by `_.defaults` to customize its `_.assignIn` use to assign properties\n * of source objects to the destination object for all destination properties\n * that resolve to `undefined`.\n *\n * @private\n * @param {*} objValue The destination value.\n * @param {*} srcValue The source value.\n * @param {string} key The key of the property to assign.\n * @param {Object} object The parent object of `objValue`.\n * @returns {*} Returns the value to assign.\n */\nfunction customDefaultsAssignIn(objValue, srcValue, key, object) {\n  if (objValue === undefined ||\n      (eq(objValue, objectProto[key]) && !hasOwnProperty.call(object, key))) {\n    return srcValue;\n  }\n  return objValue;\n}\n\nmodule.exports = customDefaultsAssignIn;\n","/** Used to escape characters for inclusion in compiled string literals. */\nvar stringEscapes = {\n  '\\\\': '\\\\',\n  \"'\": \"'\",\n  '\\n': 'n',\n  '\\r': 'r',\n  '\\u2028': 'u2028',\n  '\\u2029': 'u2029'\n};\n\n/**\n * Used by `_.template` to escape characters for inclusion in compiled string literals.\n *\n * @private\n * @param {string} chr The matched character to escape.\n * @returns {string} Returns the escaped character.\n */\nfunction escapeStringChar(chr) {\n  return '\\\\' + stringEscapes[chr];\n}\n\nmodule.exports = escapeStringChar;\n","/** Used to match template delimiters. */\nvar reInterpolate = /<%=([\\s\\S]+?)%>/g;\n\nmodule.exports = reInterpolate;\n","var basePropertyOf = require('./_basePropertyOf');\n\n/** Used to map characters to HTML entities. */\nvar htmlEscapes = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#39;'\n};\n\n/**\n * Used by `_.escape` to convert characters to HTML entities.\n *\n * @private\n * @param {string} chr The matched character to escape.\n * @returns {string} Returns the escaped character.\n */\nvar escapeHtmlChar = basePropertyOf(htmlEscapes);\n\nmodule.exports = escapeHtmlChar;\n","var escapeHtmlChar = require('./_escapeHtmlChar'),\n    toString = require('./toString');\n\n/** Used to match HTML entities and HTML characters. */\nvar reUnescapedHtml = /[&<>\"']/g,\n    reHasUnescapedHtml = RegExp(reUnescapedHtml.source);\n\n/**\n * Converts the characters \"&\", \"<\", \">\", '\"', and \"'\" in `string` to their\n * corresponding HTML entities.\n *\n * **Note:** No other characters are escaped. To escape additional\n * characters use a third-party library like [_he_](https://mths.be/he).\n *\n * Though the \">\" character is escaped for symmetry, characters like\n * \">\" and \"/\" don't need escaping in HTML and have no special meaning\n * unless they're part of a tag or unquoted attribute value. See\n * [Mathias Bynens's article](https://mathiasbynens.be/notes/ambiguous-ampersands)\n * (under \"semi-related fun fact\") for more details.\n *\n * When working with HTML you should always\n * [quote attribute values](http://wonko.com/post/html-escaping) to reduce\n * XSS vectors.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category String\n * @param {string} [string=''] The string to escape.\n * @returns {string} Returns the escaped string.\n * @example\n *\n * _.escape('fred, barney, & pebbles');\n * // => 'fred, barney, &amp; pebbles'\n */\nfunction escape(string) {\n  string = toString(string);\n  return (string && reHasUnescapedHtml.test(string))\n    ? string.replace(reUnescapedHtml, escapeHtmlChar)\n    : string;\n}\n\nmodule.exports = escape;\n","/** Used to match template delimiters. */\nvar reEscape = /<%-([\\s\\S]+?)%>/g;\n\nmodule.exports = reEscape;\n","/** Used to match template delimiters. */\nvar reEvaluate = /<%([\\s\\S]+?)%>/g;\n\nmodule.exports = reEvaluate;\n","var escape = require('./escape'),\n    reEscape = require('./_reEscape'),\n    reEvaluate = require('./_reEvaluate'),\n    reInterpolate = require('./_reInterpolate');\n\n/**\n * By default, the template delimiters used by lodash are like those in\n * embedded Ruby (ERB) as well as ES2015 template strings. Change the\n * following template settings to use alternative delimiters.\n *\n * @static\n * @memberOf _\n * @type {Object}\n */\nvar templateSettings = {\n\n  /**\n   * Used to detect `data` property values to be HTML-escaped.\n   *\n   * @memberOf _.templateSettings\n   * @type {RegExp}\n   */\n  'escape': reEscape,\n\n  /**\n   * Used to detect code to be evaluated.\n   *\n   * @memberOf _.templateSettings\n   * @type {RegExp}\n   */\n  'evaluate': reEvaluate,\n\n  /**\n   * Used to detect `data` property values to inject.\n   *\n   * @memberOf _.templateSettings\n   * @type {RegExp}\n   */\n  'interpolate': reInterpolate,\n\n  /**\n   * Used to reference the data object in the template text.\n   *\n   * @memberOf _.templateSettings\n   * @type {string}\n   */\n  'variable': '',\n\n  /**\n   * Used to import variables into the compiled template.\n   *\n   * @memberOf _.templateSettings\n   * @type {Object}\n   */\n  'imports': {\n\n    /**\n     * A reference to the `lodash` function.\n     *\n     * @memberOf _.templateSettings.imports\n     * @type {Function}\n     */\n    '_': { 'escape': escape }\n  }\n};\n\nmodule.exports = templateSettings;\n","var assignInWith = require('./assignInWith'),\n    attempt = require('./attempt'),\n    baseValues = require('./_baseValues'),\n    customDefaultsAssignIn = require('./_customDefaultsAssignIn'),\n    escapeStringChar = require('./_escapeStringChar'),\n    isError = require('./isError'),\n    isIterateeCall = require('./_isIterateeCall'),\n    keys = require('./keys'),\n    reInterpolate = require('./_reInterpolate'),\n    templateSettings = require('./templateSettings'),\n    toString = require('./toString');\n\n/** Error message constants. */\nvar INVALID_TEMPL_VAR_ERROR_TEXT = 'Invalid `variable` option passed into `_.template`';\n\n/** Used to match empty string literals in compiled template source. */\nvar reEmptyStringLeading = /\\b__p \\+= '';/g,\n    reEmptyStringMiddle = /\\b(__p \\+=) '' \\+/g,\n    reEmptyStringTrailing = /(__e\\(.*?\\)|\\b__t\\)) \\+\\n'';/g;\n\n/**\n * Used to validate the `validate` option in `_.template` variable.\n *\n * Forbids characters which could potentially change the meaning of the function argument definition:\n * - \"(),\" (modification of function parameters)\n * - \"=\" (default value)\n * - \"[]{}\" (destructuring of function parameters)\n * - \"/\" (beginning of a comment)\n * - whitespace\n */\nvar reForbiddenIdentifierChars = /[()=,{}\\[\\]\\/\\s]/;\n\n/**\n * Used to match\n * [ES template delimiters](http://ecma-international.org/ecma-262/7.0/#sec-template-literal-lexical-components).\n */\nvar reEsTemplate = /\\$\\{([^\\\\}]*(?:\\\\.[^\\\\}]*)*)\\}/g;\n\n/** Used to ensure capturing order of template delimiters. */\nvar reNoMatch = /($^)/;\n\n/** Used to match unescaped characters in compiled string literals. */\nvar reUnescapedString = /['\\n\\r\\u2028\\u2029\\\\]/g;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates a compiled template function that can interpolate data properties\n * in \"interpolate\" delimiters, HTML-escape interpolated data properties in\n * \"escape\" delimiters, and execute JavaScript in \"evaluate\" delimiters. Data\n * properties may be accessed as free variables in the template. If a setting\n * object is given, it takes precedence over `_.templateSettings` values.\n *\n * **Note:** In the development build `_.template` utilizes\n * [sourceURLs](http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/#toc-sourceurl)\n * for easier debugging.\n *\n * For more information on precompiling templates see\n * [lodash's custom builds documentation](https://lodash.com/custom-builds).\n *\n * For more information on Chrome extension sandboxes see\n * [Chrome's extensions documentation](https://developer.chrome.com/extensions/sandboxingEval).\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category String\n * @param {string} [string=''] The template string.\n * @param {Object} [options={}] The options object.\n * @param {RegExp} [options.escape=_.templateSettings.escape]\n *  The HTML \"escape\" delimiter.\n * @param {RegExp} [options.evaluate=_.templateSettings.evaluate]\n *  The \"evaluate\" delimiter.\n * @param {Object} [options.imports=_.templateSettings.imports]\n *  An object to import into the template as free variables.\n * @param {RegExp} [options.interpolate=_.templateSettings.interpolate]\n *  The \"interpolate\" delimiter.\n * @param {string} [options.sourceURL='templateSources[n]']\n *  The sourceURL of the compiled template.\n * @param {string} [options.variable='obj']\n *  The data object variable name.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {Function} Returns the compiled template function.\n * @example\n *\n * // Use the \"interpolate\" delimiter to create a compiled template.\n * var compiled = _.template('hello <%= user %>!');\n * compiled({ 'user': 'fred' });\n * // => 'hello fred!'\n *\n * // Use the HTML \"escape\" delimiter to escape data property values.\n * var compiled = _.template('<b><%- value %></b>');\n * compiled({ 'value': '<script>' });\n * // => '<b>&lt;script&gt;</b>'\n *\n * // Use the \"evaluate\" delimiter to execute JavaScript and generate HTML.\n * var compiled = _.template('<% _.forEach(users, function(user) { %><li><%- user %></li><% }); %>');\n * compiled({ 'users': ['fred', 'barney'] });\n * // => '<li>fred</li><li>barney</li>'\n *\n * // Use the internal `print` function in \"evaluate\" delimiters.\n * var compiled = _.template('<% print(\"hello \" + user); %>!');\n * compiled({ 'user': 'barney' });\n * // => 'hello barney!'\n *\n * // Use the ES template literal delimiter as an \"interpolate\" delimiter.\n * // Disable support by replacing the \"interpolate\" delimiter.\n * var compiled = _.template('hello ${ user }!');\n * compiled({ 'user': 'pebbles' });\n * // => 'hello pebbles!'\n *\n * // Use backslashes to treat delimiters as plain text.\n * var compiled = _.template('<%= \"\\\\<%- value %\\\\>\" %>');\n * compiled({ 'value': 'ignored' });\n * // => '<%- value %>'\n *\n * // Use the `imports` option to import `jQuery` as `jq`.\n * var text = '<% jq.each(users, function(user) { %><li><%- user %></li><% }); %>';\n * var compiled = _.template(text, { 'imports': { 'jq': jQuery } });\n * compiled({ 'users': ['fred', 'barney'] });\n * // => '<li>fred</li><li>barney</li>'\n *\n * // Use the `sourceURL` option to specify a custom sourceURL for the template.\n * var compiled = _.template('hello <%= user %>!', { 'sourceURL': '/basic/greeting.jst' });\n * compiled(data);\n * // => Find the source of \"greeting.jst\" under the Sources tab or Resources panel of the web inspector.\n *\n * // Use the `variable` option to ensure a with-statement isn't used in the compiled template.\n * var compiled = _.template('hi <%= data.user %>!', { 'variable': 'data' });\n * compiled.source;\n * // => function(data) {\n * //   var __t, __p = '';\n * //   __p += 'hi ' + ((__t = ( data.user )) == null ? '' : __t) + '!';\n * //   return __p;\n * // }\n *\n * // Use custom template delimiters.\n * _.templateSettings.interpolate = /{{([\\s\\S]+?)}}/g;\n * var compiled = _.template('hello {{ user }}!');\n * compiled({ 'user': 'mustache' });\n * // => 'hello mustache!'\n *\n * // Use the `source` property to inline compiled templates for meaningful\n * // line numbers in error messages and stack traces.\n * fs.writeFileSync(path.join(process.cwd(), 'jst.js'), '\\\n *   var JST = {\\\n *     \"main\": ' + _.template(mainText).source + '\\\n *   };\\\n * ');\n */\nfunction template(string, options, guard) {\n  // Based on John Resig's `tmpl` implementation\n  // (http://ejohn.org/blog/javascript-micro-templating/)\n  // and Laura Doktorova's doT.js (https://github.com/olado/doT).\n  var settings = templateSettings.imports._.templateSettings || templateSettings;\n\n  if (guard && isIterateeCall(string, options, guard)) {\n    options = undefined;\n  }\n  string = toString(string);\n  options = assignInWith({}, options, settings, customDefaultsAssignIn);\n\n  var imports = assignInWith({}, options.imports, settings.imports, customDefaultsAssignIn),\n      importsKeys = keys(imports),\n      importsValues = baseValues(imports, importsKeys);\n\n  var isEscaping,\n      isEvaluating,\n      index = 0,\n      interpolate = options.interpolate || reNoMatch,\n      source = \"__p += '\";\n\n  // Compile the regexp to match each delimiter.\n  var reDelimiters = RegExp(\n    (options.escape || reNoMatch).source + '|' +\n    interpolate.source + '|' +\n    (interpolate === reInterpolate ? reEsTemplate : reNoMatch).source + '|' +\n    (options.evaluate || reNoMatch).source + '|$'\n  , 'g');\n\n  // Use a sourceURL for easier debugging.\n  // The sourceURL gets injected into the source that's eval-ed, so be careful\n  // to normalize all kinds of whitespace, so e.g. newlines (and unicode versions of it) can't sneak in\n  // and escape the comment, thus injecting code that gets evaled.\n  var sourceURL = hasOwnProperty.call(options, 'sourceURL')\n    ? ('//# sourceURL=' +\n       (options.sourceURL + '').replace(/\\s/g, ' ') +\n       '\\n')\n    : '';\n\n  string.replace(reDelimiters, function(match, escapeValue, interpolateValue, esTemplateValue, evaluateValue, offset) {\n    interpolateValue || (interpolateValue = esTemplateValue);\n\n    // Escape characters that can't be included in string literals.\n    source += string.slice(index, offset).replace(reUnescapedString, escapeStringChar);\n\n    // Replace delimiters with snippets.\n    if (escapeValue) {\n      isEscaping = true;\n      source += \"' +\\n__e(\" + escapeValue + \") +\\n'\";\n    }\n    if (evaluateValue) {\n      isEvaluating = true;\n      source += \"';\\n\" + evaluateValue + \";\\n__p += '\";\n    }\n    if (interpolateValue) {\n      source += \"' +\\n((__t = (\" + interpolateValue + \")) == null ? '' : __t) +\\n'\";\n    }\n    index = offset + match.length;\n\n    // The JS engine embedded in Adobe products needs `match` returned in\n    // order to produce the correct `offset` value.\n    return match;\n  });\n\n  source += \"';\\n\";\n\n  // If `variable` is not specified wrap a with-statement around the generated\n  // code to add the data object to the top of the scope chain.\n  var variable = hasOwnProperty.call(options, 'variable') && options.variable;\n  if (!variable) {\n    source = 'with (obj) {\\n' + source + '\\n}\\n';\n  }\n  // Throw an error if a forbidden character was found in `variable`, to prevent\n  // potential command injection attacks.\n  else if (reForbiddenIdentifierChars.test(variable)) {\n    throw new Error(INVALID_TEMPL_VAR_ERROR_TEXT);\n  }\n\n  // Cleanup code by stripping empty strings.\n  source = (isEvaluating ? source.replace(reEmptyStringLeading, '') : source)\n    .replace(reEmptyStringMiddle, '$1')\n    .replace(reEmptyStringTrailing, '$1;');\n\n  // Frame code as the function body.\n  source = 'function(' + (variable || 'obj') + ') {\\n' +\n    (variable\n      ? ''\n      : 'obj || (obj = {});\\n'\n    ) +\n    \"var __t, __p = ''\" +\n    (isEscaping\n       ? ', __e = _.escape'\n       : ''\n    ) +\n    (isEvaluating\n      ? ', __j = Array.prototype.join;\\n' +\n        \"function print() { __p += __j.call(arguments, '') }\\n\"\n      : ';\\n'\n    ) +\n    source +\n    'return __p\\n}';\n\n  var result = attempt(function() {\n    return Function(importsKeys, sourceURL + 'return ' + source)\n      .apply(undefined, importsValues);\n  });\n\n  // Provide the compiled function's source by its `toString` method or\n  // the `source` property as a convenience for inlining compiled templates.\n  result.source = source;\n  if (isError(result)) {\n    throw result;\n  }\n  return result;\n}\n\nmodule.exports = template;\n","import React, { forwardRef, ReactNode, useState, useImperativeHandle, useEffect, useRef, useMemo } from 'react';\nimport isObject from 'lodash/isObject';\nimport isString from 'lodash/isString';\nimport get from 'lodash/get';\nimport merge from 'lodash/merge';\nimport isFunction from 'lodash/isFunction';\nimport lodashTemplate from 'lodash/template';\nimport {\n  CheckCircleFilledIcon as TdCheckCircleFilledIcon,\n  CloseCircleFilledIcon as TdCloseCircleFilledIcon,\n  ErrorCircleFilledIcon as TdErrorCircleFilledIcon,\n} from 'tdesign-icons-react';\n\nimport { calcFieldValue } from './utils';\nimport useConfig from '../hooks/useConfig';\nimport useGlobalIcon from '../hooks/useGlobalIcon';\nimport type { TdFormItemProps, ValueType, FormItemValidateMessage, NamePath, FormInstanceFunctions } from './type';\nimport { StyledProps } from '../common';\nimport { HOOK_MARK } from './hooks/useForm';\nimport { validate as validateModal } from './formModel';\nimport { useFormContext, useFormListContext } from './FormContext';\nimport useFormItemStyle from './hooks/useFormItemStyle';\nimport { formItemDefaultProps } from './defaultProps';\n\nimport { ctrlKeyMap, getDefaultInitialData } from './useInitialData';\nimport { ValidateStatus } from './const';\n\nexport interface FormItemProps extends TdFormItemProps, StyledProps {\n  children?: React.ReactNode | ((form: FormInstanceFunctions) => React.ReactElement);\n}\n\nexport interface FormItemInstance {\n  name?: NamePath;\n  value?: any;\n  getValue?: Function;\n  setValue?: Function;\n  setField?: Function;\n  validate?: Function;\n  resetField?: Function;\n  setValidateMessage?: Function;\n  resetValidate?: Function;\n  validateOnly?: Function;\n}\n\nconst FormItem = forwardRef<FormItemInstance, FormItemProps>((props, ref) => {\n  const { classPrefix, form: globalFormConfig } = useConfig();\n  const { CheckCircleFilledIcon, CloseCircleFilledIcon, ErrorCircleFilledIcon } = useGlobalIcon({\n    CheckCircleFilledIcon: TdCheckCircleFilledIcon,\n    CloseCircleFilledIcon: TdCloseCircleFilledIcon,\n    ErrorCircleFilledIcon: TdErrorCircleFilledIcon,\n  });\n  const {\n    form,\n    colon,\n    layout,\n    initialData: initialDataFromContext,\n    requiredMark: requiredMarkFromContext,\n    labelAlign: labelAlignFromContext,\n    labelWidth: labelWidthFromContext,\n    showErrorMessage: showErrorMessageFromContext,\n    disabled: disabledFromContext,\n    resetType: resetTypeFromContext,\n    rules: rulesFromContext,\n    statusIcon: statusIconFromContext,\n    errorMessage,\n    formMapRef,\n    onFormItemValueChange,\n  } = useFormContext();\n\n  const { name: formListName, rules: formListRules, formListMapRef } = useFormListContext();\n\n  const {\n    children,\n    style,\n    label,\n    name,\n    status,\n    tips,\n    help,\n    initialData,\n    className,\n    shouldUpdate,\n    successBorder,\n    statusIcon = statusIconFromContext,\n    rules: innerRules = getInnerRules(name, rulesFromContext, formListName, formListRules),\n    labelWidth = labelWidthFromContext,\n    labelAlign = labelAlignFromContext,\n    requiredMark = requiredMarkFromContext,\n  } = props;\n\n  const [, forceUpdate] = useState({}); // custom render state\n  const [freeShowErrorMessage, setFreeShowErrorMessage] = useState(undefined);\n  const [errorList, setErrorList] = useState([]);\n  const [successList, setSuccessList] = useState([]);\n  const [verifyStatus, setVerifyStatus] = useState('validating');\n  const [resetValidating, setResetValidating] = useState(false);\n  const [needResetField, setNeedResetField] = useState(false);\n  const [formValue, setFormValue] = useState(\n    getDefaultInitialData({\n      name,\n      formListName,\n      children,\n      initialData,\n      initialDataFromContext,\n    }),\n  );\n\n  const formItemRef = useRef<FormItemInstance>(); // 当前 formItem 实例\n  const innerFormItemsRef = useRef([]);\n  const shouldValidate = useRef(false); // 校验开关\n  const valueRef = useRef(formValue); // 当前最新值\n\n  const errorMessages = useMemo(() => errorMessage ?? globalFormConfig.errorMessage, [errorMessage, globalFormConfig]);\n\n  const showErrorMessage = useMemo(() => {\n    if (typeof freeShowErrorMessage === 'boolean') return freeShowErrorMessage;\n    if (typeof props.showErrorMessage === 'boolean') return props.showErrorMessage;\n    return showErrorMessageFromContext;\n  }, [freeShowErrorMessage, props.showErrorMessage, showErrorMessageFromContext]);\n\n  const { formItemClass, formItemLabelClass, contentClass, labelStyle, contentStyle, helpNode, extraNode } =\n    useFormItemStyle({\n      className,\n      help,\n      tips,\n      name,\n      status,\n      successBorder,\n      errorList,\n      successList,\n      layout,\n      verifyStatus,\n      colon,\n      label,\n      labelWidth,\n      labelAlign,\n      requiredMark,\n      showErrorMessage,\n      innerRules,\n    });\n\n  // 更新 form 表单字段\n  const updateFormValue = (newVal: any, validate = true) => {\n    const { setPrevStore } = form?.getInternalHooks?.(HOOK_MARK) || {};\n    setPrevStore?.(form?.getFieldsValue?.(true));\n\n    shouldValidate.current = validate;\n    valueRef.current = newVal;\n    setFormValue(newVal);\n  };\n\n  // 初始化 rules，最终以 formItem 上优先级最高\n  function getInnerRules(name, formRules, formListName, formListRules) {\n    if (Array.isArray(name)) {\n      return get(formRules?.[formListName], name) || get(formListRules, name) || [];\n    }\n    return formRules?.[name] || formListRules || [];\n  }\n\n  const renderSuffixIcon = () => {\n    if (statusIcon === false) return null;\n\n    const resultIcon = (iconSlot: ReactNode) => <span className={`${classPrefix}-form__status`}>{iconSlot}</span>;\n\n    const getDefaultIcon = () => {\n      const iconMap = {\n        success: <CheckCircleFilledIcon size=\"25px\" />,\n        error: <CloseCircleFilledIcon size=\"25px\" />,\n        warning: <ErrorCircleFilledIcon size=\"25px\" />,\n      };\n      if (verifyStatus === ValidateStatus.SUCCESS) {\n        return resultIcon(iconMap[verifyStatus]);\n      }\n      if (errorList && errorList[0]) {\n        const type = errorList[0].type || 'error';\n        return resultIcon(iconMap[type]);\n      }\n      return null;\n    };\n\n    if (React.isValidElement(statusIcon)) {\n      return resultIcon(React.cloneElement(statusIcon, { style: { color: 'unset' }, ...statusIcon.props }));\n    }\n    if (statusIcon === true) {\n      return getDefaultIcon();\n    }\n\n    return null;\n  };\n\n  async function analysisValidateResult(trigger) {\n    const result = {\n      successList: [],\n      errorList: [],\n      rules: [],\n      resultList: [],\n      allowSetValue: false,\n    };\n    result.rules = trigger === 'all' ? innerRules : innerRules.filter((item) => (item.trigger || 'change') === trigger);\n    if (!result.rules?.length) {\n      setResetValidating(false);\n      return result;\n    }\n    result.allowSetValue = true;\n    result.resultList = await validateModal(formValue, result.rules);\n    result.errorList = result.resultList\n      .filter((item) => item.result !== true)\n      .map((item) => {\n        Object.keys(item).forEach((key) => {\n          if (!item.message && errorMessages[key]) {\n            const compiled = lodashTemplate(errorMessages[key]);\n            // eslint-disable-next-line\n            item.message = compiled({ name: isString(label) ? label : name, validate: item[key] });\n          }\n        });\n        return item;\n      });\n    // 仅有自定义校验方法才会存在 successList\n    result.successList = result.resultList.filter(\n      (item) => item.result === true && item.message && item.type === 'success',\n    );\n\n    return result;\n  }\n\n  async function validate(trigger = 'all', showErrorMessage?: boolean) {\n    if (innerFormItemsRef.current.length) {\n      return innerFormItemsRef.current.map((innerFormItem) => innerFormItem?.validate(trigger, showErrorMessage));\n    }\n\n    setResetValidating(true);\n    // undefined | boolean\n    setFreeShowErrorMessage(showErrorMessage);\n    const {\n      successList: innerSuccessList,\n      errorList: innerErrorList,\n      rules: validateRules,\n      resultList,\n      allowSetValue,\n    } = await analysisValidateResult(trigger);\n\n    if (allowSetValue) {\n      setSuccessList(innerSuccessList);\n      setErrorList(innerErrorList);\n    }\n    // 根据校验结果设置校验状态\n    if (validateRules.length) {\n      let status = ValidateStatus.SUCCESS;\n      if (innerErrorList.length) {\n        status = innerErrorList?.[0]?.type || ValidateStatus.ERROR;\n      }\n      setVerifyStatus(status);\n    } else {\n      setVerifyStatus(ValidateStatus.VALIDATING);\n    }\n    // 重置处理\n    if (needResetField) {\n      resetHandler();\n    }\n    setResetValidating(false);\n\n    return {\n      [String(name)]: innerErrorList.length === 0 ? true : resultList,\n    };\n  }\n\n  async function validateOnly(trigger = 'all') {\n    const { errorList: innerErrorList, resultList } = await analysisValidateResult(trigger);\n\n    return {\n      [String(name)]: innerErrorList.length === 0 ? true : resultList,\n    };\n  }\n\n  // blur 下触发校验\n  function handleItemBlur() {\n    const filterRules = innerRules.filter((item) => item.trigger === 'blur');\n\n    filterRules.length && validate('blur');\n  }\n\n  function getResetValue(resetType: string): ValueType {\n    if (resetType === 'initial') {\n      return getDefaultInitialData({\n        name,\n        formListName,\n        children,\n        initialData,\n        initialDataFromContext,\n      });\n    }\n\n    let emptyValue: ValueType = '';\n    if (Array.isArray(formValue)) {\n      emptyValue = [];\n    } else if (isObject(formValue)) {\n      emptyValue = {};\n    }\n    return emptyValue;\n  }\n\n  function resetField(type: string) {\n    if (typeof name === 'undefined') return;\n\n    const resetType = type || resetTypeFromContext;\n    const resetValue = getResetValue(resetType);\n    // reset 不校验\n    updateFormValue(resetValue, false);\n\n    if (resetValidating) {\n      setNeedResetField(true);\n    } else {\n      resetHandler();\n    }\n  }\n\n  function resetHandler() {\n    setNeedResetField(false);\n    setErrorList([]);\n    setSuccessList([]);\n    setVerifyStatus(ValidateStatus.VALIDATING);\n  }\n\n  function setField(field: { value?: string; status?: ValidateStatus; validateMessage?: FormItemValidateMessage }) {\n    const { value, status, validateMessage } = field;\n    if (typeof status !== 'undefined') {\n      setErrorList(validateMessage ? [validateMessage] : []);\n      setSuccessList(validateMessage ? [validateMessage] : []);\n      setNeedResetField(false);\n      setVerifyStatus(status);\n    }\n    if (typeof value !== 'undefined') {\n      // 手动设置 status 则不需要校验 交给用户判断\n      updateFormValue(value, typeof status === 'undefined' ? true : false);\n    }\n  }\n\n  function setValidateMessage(validateMessage: FormItemValidateMessage[]) {\n    if (!validateMessage || !Array.isArray(validateMessage)) return;\n    if (validateMessage.length === 0) {\n      setErrorList([]);\n      setVerifyStatus(ValidateStatus.SUCCESS);\n      return;\n    }\n    setErrorList(validateMessage);\n    const status = validateMessage?.[0]?.type || ValidateStatus.ERROR;\n    setVerifyStatus(status);\n  }\n\n  useEffect(() => {\n    // 注册自定义更新回调\n    if (!shouldUpdate || !form) return;\n\n    const { getPrevStore, registerWatch } = form?.getInternalHooks?.(HOOK_MARK) || {};\n    const cancelRegister = registerWatch?.(() => {\n      const currStore = form?.getFieldsValue?.(true) || {};\n      let updateFlag = shouldUpdate as boolean;\n      if (isFunction(shouldUpdate)) updateFlag = shouldUpdate(getPrevStore?.(), currStore);\n\n      if (updateFlag) forceUpdate({});\n    });\n\n    return cancelRegister;\n  }, [shouldUpdate, form]);\n\n  useEffect(() => {\n    // 记录填写 name 属性 formItem\n    if (typeof name === 'undefined') return;\n\n    // formList 下特殊处理\n    if (formListName) {\n      formListMapRef.current.set(name, formItemRef);\n      return () => {\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        formListMapRef.current.delete(name);\n      };\n    }\n\n    if (!formMapRef) return;\n    formMapRef.current.set(name, formItemRef);\n    return () => {\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      formMapRef.current.delete(name);\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [name, formListName]);\n\n  useEffect(() => {\n    // value 变化通知 watch 事件\n    form?.getInternalHooks?.(HOOK_MARK).notifyWatch?.(name);\n\n    // 控制是否需要校验\n    if (!shouldValidate.current) return;\n\n    // value change event\n    if (typeof name !== 'undefined') {\n      if (formListName) {\n        // 整理 formItem 的值\n        const formListValue = merge([], calcFieldValue(name, formValue));\n        // 整理 formList 的值\n        const fieldValue = calcFieldValue(formListName, formListValue);\n        onFormItemValueChange?.({ ...fieldValue });\n      } else {\n        const fieldValue = calcFieldValue(name, formValue);\n        onFormItemValueChange?.({ ...fieldValue });\n      }\n    }\n\n    const filterRules = innerRules.filter((item) => (item.trigger || 'change') === 'change');\n\n    filterRules.length && validate('change');\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [formValue]);\n\n  // 暴露 ref 实例方法\n  const instance: FormItemInstance = {\n    name,\n    value: formValue,\n    getValue: () => valueRef.current,\n    setValue: (newVal: any) => updateFormValue(newVal),\n    setField,\n    validate,\n    validateOnly,\n    resetField,\n    setValidateMessage,\n    resetValidate: resetHandler,\n  };\n  useImperativeHandle(ref, (): FormItemInstance => instance);\n  useImperativeHandle(formItemRef, (): FormItemInstance => instance);\n\n  // 传入 form 实例支持自定义渲染\n  if (isFunction(children)) return children(form);\n\n  return (\n    <div className={formItemClass} style={style}>\n      {label && (\n        <div className={formItemLabelClass} style={labelStyle}>\n          <label htmlFor={props?.for}>{label}</label>\n        </div>\n      )}\n      <div className={contentClass()} style={contentStyle}>\n        <div className={`${classPrefix}-form__controls-content`}>\n          {React.Children.map(children, (child, index) => {\n            if (!child) return null;\n\n            let ctrlKey = 'value';\n            if (React.isValidElement(child)) {\n              if (child.type === FormItem) {\n                return React.cloneElement(child, {\n                  // @ts-ignore\n                  ref: (el) => {\n                    if (!el) return;\n                    innerFormItemsRef.current[index] = el;\n                  },\n                });\n              }\n              if (typeof child.type === 'object') {\n                ctrlKey = ctrlKeyMap.get(child.type) || 'value';\n              }\n              return React.cloneElement(child, {\n                disabled: disabledFromContext,\n                ...child.props,\n                [ctrlKey]: formValue,\n                onChange: (value: any, ...args: any[]) => {\n                  updateFormValue(value);\n                  child.props.onChange?.call?.(null, value, ...args);\n                },\n                onBlur: (value: any, ...args: any[]) => {\n                  handleItemBlur();\n                  child.props.onBlur?.call?.(null, value, ...args);\n                },\n              });\n            }\n            return child;\n          })}\n          {renderSuffixIcon()}\n        </div>\n        {helpNode}\n        {extraNode}\n      </div>\n    </div>\n  );\n});\n\nFormItem.displayName = 'FormItem';\nFormItem.defaultProps = formItemDefaultProps;\n\nexport default FormItem;\n"],"names":["copyObject","require$$0","createAssigner","require$$1","keysIn","require$$2","assignInWith","object","source","srcIndex","customizer","assignInWith_1","baseGetTag","isObjectLike","isPlainObject","domExcTag","errorTag","isError","value","tag","message","name","isError_1","apply","baseRest","attempt","func","args","undefined","e","Error","attempt_1","arrayMap","baseValues","props","key","_baseValues","eq","objectProto","Object","prototype","hasOwnProperty","customDefaultsAssignIn","objValue","srcValue","call","_customDefaultsAssignIn","stringEscapes","escapeStringChar","chr","_escapeStringChar","reInterpolate","_reInterpolate","basePropertyOf","htmlEscapes","escapeHtmlChar","_escapeHtmlChar","toString","reUnescapedHtml","reHasUnescapedHtml","RegExp","escape","string","test","replace","_escape","reEscape","_reEscape","reEvaluate","_reEvaluate","require$$3","templateSettings","templateSettings_1","require$$4","require$$5","isIterateeCall","require$$6","keys","require$$7","require$$8","require$$9","require$$10","INVALID_TEMPL_VAR_ERROR_TEXT","reEmptyStringLeading","reEmptyStringMiddle","reEmptyStringTrailing","reForbiddenIdentifierChars","reEsTemplate","reNoMatch","reUnescapedString","template","options","guard","settings","imports","_","importsKeys","importsValues","isEscaping","isEvaluating","index","interpolate","reDelimiters","evaluate","sourceURL","match","escapeValue","interpolateValue","esTemplateValue","evaluateValue","offset","slice","length","variable","result","Function","template_1","FormItem","forwardRef","ref","useConfig","classPrefix","globalFormConfig","form","useGlobalIcon","CheckCircleFilledIcon","TdCheckCircleFilledIcon","CloseCircleFilledIcon","TdCloseCircleFilledIcon","ErrorCircleFilledIcon","TdErrorCircleFilledIcon","useFormContext","colon","layout","initialDataFromContext","initialData","requiredMarkFromContext","requiredMark","labelAlignFromContext","labelAlign","labelWidthFromContext","labelWidth","showErrorMessageFromContext","showErrorMessage","disabledFromContext","disabled","resetTypeFromContext","resetType","rulesFromContext","rules","statusIconFromContext","statusIcon","errorMessage","formMapRef","onFormItemValueChange","useFormListContext","formListName","formListRules","formListMapRef","children","style","label","status","tips","help","className","shouldUpdate","successBorder","innerRules","getInnerRules","useState","forceUpdate","freeShowErrorMessage","setFreeShowErrorMessage","errorList","setErrorList","successList","setSuccessList","verifyStatus","setVerifyStatus","resetValidating","setResetValidating","needResetField","setNeedResetField","getDefaultInitialData","formValue","setFormValue","formItemRef","useRef","innerFormItemsRef","shouldValidate","valueRef","errorMessages","useMemo","useFormItemStyle","formItemClass","formItemLabelClass","contentClass","labelStyle","contentStyle","helpNode","extraNode","updateFormValue","newVal","validate","getInternalHooks","HOOK_MARK","setPrevStore","getFieldsValue","current","formRules","Array","isArray","get","renderSuffixIcon","resultIcon","iconSlot","React","createElement","getDefaultIcon","iconMap","success","size","error","warning","ValidateStatus","SUCCESS","type","isValidElement","cloneElement","color","analysisValidateResult","_regeneratorRuntime","trigger","resultList","allowSetValue","filter","item","validateModal","map","forEach","compiled","lodashTemplate","isString","innerFormItem","innerSuccessList","innerErrorList","validateRules","ERROR","VALIDATING","resetHandler","String","validateOnly","handleItemBlur","filterRules","getResetValue","emptyValue","isObject","resetField","resetValue","setField","field","validateMessage","setValidateMessage","useEffect","getPrevStore","registerWatch","cancelRegister","currStore","updateFlag","isFunction","set","notifyWatch","formListValue","merge","calcFieldValue","fieldValue","instance","getValue","setValue","resetValidate","useImperativeHandle","htmlFor","Children","child","ctrlKey","el","ctrlKeyMap","onChange","onBlur","displayName","defaultProps","formItemDefaultProps"],"mappings":"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AAnB;AAAA,IACIwB,OAAO,GAAGtB,SADd;AAAA,IAEI8B,UAAU,GAAG5B,WAFjB;AAAA,IAGIqC,sBAAsB,GAAG4B,uBAH7B;AAAA,IAIItB,gBAAgB,GAAGyB,iBAJvB;AAAA,IAKIxD,OAAO,GAAGyD,SALd;AAAA,IAMIC,cAAc,GAAGC,eANrB;AAAA,IAOIC,IAAI,GAAGC,MAPX;AAAA,IAQI3B,aAAa,GAAG4B,cARpB;AAAA,IASIR,gBAAgB,GAAGS,kBATvB;AAAA,IAUIvB,QAAQ,GAAGwB,UAVf,CAAA;AAYA;;AACA,IAAIC,4BAA4B,GAAG,oDAAnC,CAAA;AAEA;;AACA,IAAIC,oBAAoB,GAAG,gBAA3B;AAAA,IACIC,mBAAmB,GAAG,oBAD1B;AAAA,IAEIC,qBAAqB,GAAG,+BAF5B,CAAA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,IAAIC,0BAA0B,GAAG,kBAAjC,CAAA;AAEA;AACA;AACA;AACA;;AACA,IAAIC,YAAY,GAAG,iCAAnB,CAAA;AAEA;;AACA,IAAIC,SAAS,GAAG,MAAhB,CAAA;AAEA;;AACA,IAAIC,iBAAiB,GAAG,wBAAxB,CAAA;AAEA;;AACA,IAAInD,WAAW,GAAGC,MAAM,CAACC,SAAzB,CAAA;AAEA;;AACA,IAAIC,cAAc,GAAGH,WAAW,CAACG,cAAjC,CAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA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"}