{"version":3,"file":"useRange.js","sources":["../../../src/date-picker/hooks/useRange.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { CalendarIcon as TdCalendarIcon } from 'tdesign-icons-react';\nimport dayjs from 'dayjs';\nimport classNames from 'classnames';\nimport useConfig from '../../hooks/useConfig';\nimport useGlobalIcon from '../../hooks/useGlobalIcon';\nimport { RangeInputRefInterface } from '../../range-input';\nimport { TdDateRangePickerProps, DateValue } from '../type';\nimport { isValidDate, formatDate, getDefaultFormat, parseToDayjs } from '../../_common/js/date-picker/format';\nimport useRangeValue from './useRangeValue';\n\nexport const PARTIAL_MAP = { first: 'start', second: 'end' };\n\nexport default function useRange(props: TdDateRangePickerProps) {\n  const { classPrefix, datePicker: globalDatePickerConfig } = useConfig();\n  const { CalendarIcon } = useGlobalIcon({ CalendarIcon: TdCalendarIcon });\n  const name = `${classPrefix}-date-range-picker`;\n\n  const isMountedRef = useRef(false);\n  const inputRef = useRef<RangeInputRefInterface>();\n\n  const {\n    value,\n    onChange,\n    time,\n    setTime,\n    month,\n    setMonth,\n    year,\n    setYear,\n    cacheValue,\n    setCacheValue,\n    isFirstValueSelected,\n    setIsFirstValueSelected,\n  } = useRangeValue(props);\n\n  const { format, timeFormat, valueType } = getDefaultFormat({\n    mode: props.mode,\n    format: props.format,\n    valueType: props.valueType,\n    enableTimePicker: props.enableTimePicker,\n  });\n\n  const [popupVisible, setPopupVisible] = useState(false);\n  const [isHoverCell, setIsHoverCell] = useState(false);\n  const [activeIndex, setActiveIndex] = useState(0); // 确定当前选中的输入框序号\n  // 未真正选中前可能不断变更输入框的内容\n  const [inputValue, setInputValue] = useState(formatDate(value, { format }));\n\n  // input 设置\n  const rangeInputProps = {\n    ...props.rangeInputProps,\n    ref: inputRef,\n    separator: props.separator ?? globalDatePickerConfig.rangeSeparator,\n    clearable: props.clearable,\n    prefixIcon: props.prefixIcon,\n    readonly: !props.allowInput,\n    placeholder: props.placeholder ?? globalDatePickerConfig.placeholder[props.mode],\n    activeIndex: popupVisible ? activeIndex : undefined,\n    suffixIcon: props.suffixIcon ?? <CalendarIcon />,\n    className: classNames({\n      [`${name}__input--placeholder`]: isHoverCell,\n    }),\n    onClick: ({ position }) => {\n      setActiveIndex(position === 'first' ? 0 : 1);\n    },\n    onClear: ({ e }) => {\n      e.stopPropagation();\n      setPopupVisible(false);\n      onChange([], { dayjsValue: [], trigger: 'clear' });\n    },\n    onBlur: (newVal: string[], { e, position }) => {\n      props.onBlur?.({ value: newVal, partial: PARTIAL_MAP[position], e });\n    },\n    onFocus: (newVal: string[], { e, position }) => {\n      props.onFocus?.({ value: newVal, partial: PARTIAL_MAP[position], e });\n      setActiveIndex(position === 'first' ? 0 : 1);\n    },\n    onChange: (newVal: string[], { e, position }) => {\n      const index = position === 'first' ? 0 : 1;\n\n      props.onInput?.({ input: newVal[index], value, partial: PARTIAL_MAP[position], e });\n      setInputValue(newVal);\n\n      // 跳过不符合格式化的输入框内容\n      if (!isValidDate(newVal, format)) return;\n      const newYear = [];\n      const newMonth = [];\n      const newTime = [];\n      newVal.forEach((v, i) => {\n        newYear.push(dayjs(v).year() || year[i]);\n        newMonth.push(dayjs(v).month() || month[i]);\n        newTime.push(dayjs(v).format(timeFormat) || time[i]);\n      });\n      setYear(newYear);\n      setMonth(newMonth);\n      setTime(newTime);\n    },\n    onEnter: (newVal: string[]) => {\n      if (!isValidDate(newVal, format) && !isValidDate(value, format)) return;\n\n      setPopupVisible(false);\n      if (isValidDate(newVal, format)) {\n        onChange(formatDate(newVal, { format, targetFormat: valueType }) as DateValue[], {\n          dayjsValue: newVal.map((v) => parseToDayjs(v, format)),\n          trigger: 'enter',\n        });\n      } else if (isValidDate(value, format)) {\n        setInputValue(formatDate(value, { format }));\n      } else {\n        setInputValue([]);\n      }\n    },\n  };\n\n  // popup 设置\n  const popupProps = {\n    expandAnimation: true,\n    ...props.popupProps,\n    overlayInnerStyle: props.popupProps?.overlayInnerStyle ?? { width: 'auto' },\n    overlayClassName: classNames(props.popupProps?.overlayClassName, `${name}__panel-container`),\n    onVisibleChange: (visible: boolean, context) => {\n      // 输入框点击不关闭面板\n      if (context.trigger === 'trigger-element-click') {\n        const indexMap = { 0: 'first', 1: 'second' };\n        inputRef.current.focus({ position: indexMap[activeIndex] });\n        return setPopupVisible(true);\n      }\n\n      setPopupVisible(visible);\n    },\n  };\n\n  // 输入框响应 value 变化\n  useEffect(() => {\n    if (!value) {\n      setInputValue([]);\n      return;\n    }\n    if (!isValidDate(value, format)) return;\n\n    setInputValue(formatDate(value, { format }));\n    // eslint-disable-next-line\n  }, [value]);\n\n  // activeIndex 变化自动 focus 对应输入框\n  useEffect(() => {\n    if (!isMountedRef.current) {\n      isMountedRef.current = true;\n      return;\n    }\n    const indexMap = { 0: 'first', 1: 'second' };\n    inputRef.current.focus({ position: indexMap[activeIndex] });\n    // eslint-disable-next-line\n  }, [activeIndex]);\n\n  return {\n    year,\n    month,\n    value,\n    time,\n    inputValue,\n    popupVisible,\n    rangeInputProps,\n    popupProps,\n    isHoverCell,\n    onChange,\n    setYear,\n    setMonth,\n    setTime,\n    setIsHoverCell,\n    setInputValue,\n    setPopupVisible,\n    activeIndex,\n    setActiveIndex,\n    isFirstValueSelected,\n    setIsFirstValueSelected,\n    cacheValue,\n    setCacheValue,\n  };\n}\n"],"names":["PARTIAL_MAP","first","second","useRange","props","useConfig","classPrefix","globalDatePickerConfig","datePicker","useGlobalIcon","CalendarIcon","TdCalendarIcon","name","isMountedRef","useRef","inputRef","useRangeValue","value","onChange","time","setTime","month","setMonth","year","setYear","cacheValue","setCacheValue","isFirstValueSelected","setIsFirstValueSelected","getDefaultFormat","mode","format","valueType","enableTimePicker","timeFormat","useState","popupVisible","setPopupVisible","isHoverCell","setIsHoverCell","activeIndex","setActiveIndex","formatDate","inputValue","setInputValue","rangeInputProps","ref","separator","rangeSeparator","clearable","prefixIcon","readonly","allowInput","placeholder","suffixIcon","React","createElement","className","classNames","onClick","position","onClear","e","stopPropagation","dayjsValue","trigger","onBlur","newVal","partial","onFocus","index","onInput","input","isValidDate","newYear","newMonth","newTime","forEach","v","i","push","dayjs","onEnter","targetFormat","map","parseToDayjs","popupProps","expandAnimation","overlayInnerStyle","width","overlayClassName","onVisibleChange","visible","context","indexMap","current","focus","useEffect"],"mappings":"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"}