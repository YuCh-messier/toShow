import{e as f,f as p,g,R as h,b as n,j as a,c as i,h as c,a as w,d as C}from"./index.7861a158.js";import{C as x}from"./calendar.53e6209d.js";var l=f("date"),r;l?r=l:r=p();var u=g("user"),d=null,m=function(e,t){d=setTimeout(s=>{y(e)},500)},v=function(e){clearTimeout(d),d=null},b=function(e){return clearTimeout(d),!1};function y(e){var t=window.confirm("delete or not?");t&&i.post(c+"/users/deleteWord",{id:e}).then(s=>{window.location.reload()})}function N(e){return a(x,{size:"2em",onClick:t=>{w("/src/pages/calendar.html?type=words")}})}function W(e){return a("button",{className:"button shadow",onClick:e.showCard,children:"add"})}function k(e){w("/src/pages/translator.html?word="+e)}function T(e){return n("div",{className:"z-10 bg-white absolute containerB",style:{width:"calc(100vw)",height:"calc(80vh)"},children:[a("input",{value:e.value,onChange:e.onType,className:"py-md w-4/5 border-lightB border-b text-font3 text-black outline-none",type:"text"}),a("button",{className:"button3 bg-primaryL text-white mt-xxl",onClick:e.addWord,children:"\u786E\u5B9A"}),a("button",{className:"button3 bg-succeed text-white mt-xxl",onClick:e.backWord,children:"\u8FD4\u56DE"})]})}class S extends h.Component{constructor(t){super(t),this.state={content:t.content}}render(){return n("div",{className:"containerA",children:[a("div",{className:"py-sm ml-xl text-font3 w-2/3",onMouseDown:t=>{m(this.props.id)},onMouseMove:v,onMouseUp:b,onTouchStart:t=>{m(this.props.id)},onTouchMove:v,onTouchEnd:b,children:this.state.content}),a("button",{className:"text-red-300 text-font3",onClick:t=>{k(this.state.content)},children:"\u6211\u662F\u83DC\u9E21"})]})}}class L extends h.Component{constructor(t){super(t),this.state={itemList:[],addOrNot:!1,value:""},this.addWord=this.addWord.bind(this),this.showCard=this.showCard.bind(this),this.backWord=this.backWord.bind(this),this.handleChange=this.handleChange.bind(this)}componentDidMount(){i.get(c+`/users/words?user=${u}&time=${r}`).then(t=>{this.setState({itemList:t.data})})}showCard(){this.setState({addOrNot:!0})}backWord(){this.setState({addOrNot:!1})}handleChange(t){this.setState({value:t.target.value})}addWord(){var t=this.state.itemList;t.push({word:this.state.value,id:9999}),i.post(c+"/users/addWord",{user:u,time:r,word:this.state.value}),this.setState({itemList:t,addOrNot:!1,value:""})}render(){var t=this.state.itemList.map(o=>a(S,{content:o.word,id:o.id},o.word+o.id.toString()));if(this.state.addOrNot==!0)var s=a(T,{addWord:this.addWord,backWord:this.backWord,value:this.state.value,onType:this.handleChange});else var s=null;return n("div",{children:[s,n("div",{className:"containerA justify-around py-sm mb-sm bg-primaryH",children:[a(N,{}),a(W,{showCard:this.showCard})]}),a("div",{children:t})]})}}function M(){return a(L,{})}C.createRoot(document.getElementById("root")).render(a(h.StrictMode,{children:a(M,{})}));
