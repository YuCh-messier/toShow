import{g as u,R as r,c as h,h as c,b as d,j as e,d as m}from"./index.7861a158.js";var o=u("user");function v(s){return e("button",{className:"button shadow",onClick:s.showCard,children:"add"})}function b(s){return d("div",{className:"z-10 bg-white absolute containerB",style:{width:"calc(100vw)",height:"calc(80vh)"},children:[e("input",{value:s.value,onChange:s.onType,className:"py-md w-4/5 border-lightB border-b text-font3 text-black outline-none",type:"text"}),e("button",{className:"button3 bg-primaryL text-white mt-xxl",onClick:s.addWord,children:"\u786E\u5B9A"}),e("button",{className:"button3 bg-succeed text-white mt-xxl",onClick:s.backWord,children:"\u8FD4\u56DE"})]})}class k extends r.Component{constructor(t){super(t),this.state={content:t.content,checked:t.checked,id:t.id,times:t.times},this.handleFinish=this.handleFinish.bind(this)}handleFinish(t){h.post(c+"/users/checkTodo",{id:t}).then(i=>{window.location.reload()})}render(){var t;return this.state.checked==0?t=d("div",{className:"containerA gap-x-md",children:[e("div",{className:"text-red-400",children:"\xD7"}),e("div",{className:"p-1 rounded text-white bg-succeed",onClick:i=>{this.handleFinish(this.state.id,i)},children:"\u5B8C\u6210"})]}):t=e("div",{className:"text-primary",children:"\u221A"}),d("div",{children:[e("div",{className:"w-fit mx-auto tips",children:this.state.times}),d("div",{className:"py-sm ml-xl text-font3 containerA justify-around",children:[e("div",{children:this.state.content}),t]})]})}}class x extends r.Component{constructor(t){super(t),this.state={itemList:[],addOrNot:!1,value:""},this.addWord=this.addWord.bind(this),this.showCard=this.showCard.bind(this),this.backWord=this.backWord.bind(this),this.handleChange=this.handleChange.bind(this)}componentDidMount(){h.get(c+`/users/todo?user=${o}`).then(t=>{let i=[],a=[];t.data.forEach(n=>{n.checked==0?a.push(n):i.push(n)});let l=a.concat(i);this.setState({itemList:l})})}showCard(){this.setState({addOrNot:!0})}backWord(){this.setState({addOrNot:!1})}handleChange(t){this.setState({value:t.target.value})}addWord(){var t=this.state.itemList;t.push({content:this.state.value,checked:0}),h.post(c+"/users/addTodo",{user:o,content:this.state.value}),this.setState({itemList:t,addOrNot:!1,value:""})}render(){var t=this.state.itemList.map(a=>e(k,{content:a.content,checked:a.checked,id:a.id,times:a.times},a.content));if(this.state.addOrNot==!0)var i=e(b,{addWord:this.addWord,backWord:this.backWord,value:this.state.value,onType:this.handleChange});else var i=null;return d("div",{children:[i,e("div",{className:"containerA justify-around py-sm mb-sm bg-primaryH",children:e(v,{showCard:this.showCard})}),e("div",{children:t})]})}}function C(){return e(x,{})}m.createRoot(document.getElementById("root")).render(e(r.StrictMode,{children:e(C,{})}));
