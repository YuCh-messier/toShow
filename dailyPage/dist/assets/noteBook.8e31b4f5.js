import{e as b,f as p,g as v,R as l,j as e,c as o,h as s,b as r,a as f,i as g,d as w}from"./index.7861a158.js";import{C}from"./calendar.53e6209d.js";var u=b("date"),n;u?n=u:n=p();var c=v("user");function k(a){return e(C,{size:"2em",onClick:t=>{f("/src/pages/calendar.html?type=noteBook")}})}function x(a){return e("button",{className:"button shadow",onClick:a.showCard,children:"add"})}function y(a){function t(){var d="../public/pics/notebook/";let i=new FormData,h=g(16)+".png",m=document.getElementById("file").files[0];i.append("file",m),o({method:"post",url:`${s}/uploadFile?destination=${d}&fileName=${h}`,data:i}).then(S=>{window.location.reload()}),o.post(s+"/users/addNoteBook",{user:c,time:n,content:s+"/pics/notebook/"+h,tap:1})}return r("div",{children:[e("button",{className:"button shadow",onClick:a.addPic,children:"addP"}),e("div",{children:e("input",{type:"file",id:"file",onChange:t,accept:"image/*",hidden:!0})})]})}function N(a){return r("div",{className:"z-10 bg-white absolute containerB",style:{width:"calc(100vw)",height:"calc(80vh)"},children:[e("input",{value:a.value,onChange:a.onType,className:"py-md w-4/5 border-lightB border-b text-font3 text-black outline-none",type:"text"}),e("button",{className:"button3 bg-primaryL text-white mt-xxl",onClick:a.addWord,children:"\u786E\u5B9A"}),e("button",{className:"button3 bg-succeed text-white mt-xxl",onClick:a.backWord,children:"\u8FD4\u56DE"})]})}class P extends l.Component{constructor(t){super(t),this.state={content:t.content,tap:t.tap},this.viewPic=this.viewPic.bind(this)}viewPic(t){window.location=t}render(){return this.state.tap==1?e("img",{className:"py-sm w-3/5 ml-xl",src:this.state.content,onClick:t=>{this.viewPic(this.state.content,t)}}):e("div",{className:"py-sm ml-xl text-font3",children:this.state.content})}}class W extends l.Component{constructor(t){super(t),this.state={itemList:[],addOrNot:!1,value:""},this.addWord=this.addWord.bind(this),this.showCard=this.showCard.bind(this),this.backWord=this.backWord.bind(this),this.handleChange=this.handleChange.bind(this),this.addPic=this.addPic.bind(this)}componentDidMount(){o.get(s+`/users/notebook?user=${c}&time=${n}`).then(t=>{this.setState({itemList:t.data})})}showCard(){this.setState({addOrNot:!0})}backWord(){this.setState({addOrNot:!1})}handleChange(t){this.setState({value:t.target.value})}addWord(){var t=this.state.itemList;t.push({content:this.state.value,tap:0}),o.post(s+"/users/addNoteBook",{user:c,time:n,content:this.state.value,tap:0}),this.setState({itemList:t,addOrNot:!1,value:""})}addPic(){document.getElementById("file").click()}render(){var t=this.state.itemList.map(i=>e(P,{content:i.content,tap:i.tap},i.content));if(this.state.addOrNot==!0)var d=e(N,{addWord:this.addWord,backWord:this.backWord,value:this.state.value,onType:this.handleChange});else var d=null;return r("div",{children:[d,r("div",{className:"containerA justify-around py-sm mb-sm bg-primaryH",children:[e(k,{}),e(x,{showCard:this.showCard}),e(y,{addPic:this.addPic})]}),e("div",{children:t})]})}}function B(){return e(W,{})}w.createRoot(document.getElementById("root")).render(e(l.StrictMode,{children:e(B,{})}));
